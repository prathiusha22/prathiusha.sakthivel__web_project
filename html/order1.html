<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../assets/css/order1.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
    integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
    crossorigin="anonymous" referrerpolicy="no-referrer">
  <title>order1</title>

</head>

<body>
  <!-- header -->
  <header>

    <img class="logo" src="../assets/image/mainlogo.png" height="80px" width="250px" alt="img">

    <div class="menu-bar">

      <ul class="main">
        <li class="down">
          <a class="hdg" href="../index.html">Home </a>

        </li>
        <li class="down">
          <a class="hdg" href="../html/about.html">About</a>

        </li>

        <div class="dropdown">
          <li>
            <a class="hdg" href="../html/profilepage.html">Profile</a>
          </li>

          <!-- <div class="dropdown-content"> -->
          <!-- <a href="html/login.html">Fresh Fruits</a> -->
          <!-- <a href="html/login2.html">Fresh Vegetables</a> -->
          <!-- </div> -->
        </div>
        <a href="../html/cart.html">
          <i class="fa-solid fa-cart-shopping fa-fade"></i>
        </a>
        <p id="cartcount">0</p>

        <!-- <li><a class="hdg" href="../html/signup.html">Sign-up</a></li> -->

        <!-- <li><a class="hdg" href="../html/sellerpage.html">Register</a></li> -->

      </ul>
    </div>
    </div>
    </div>
  </header>
  <!-- content -->
  <main>
    <div class="mainbox">

      <!-- <div class="box">
      <img class="offimg" src="../assets/image/offer.png">
      <img class="tomato" src="../assets/image/tomato.jpg" height="350px" width="350px" alt="img">
      <div class="heading1">
        <h2>Fresh Organic Tomato</h2>
        <h4>₹10 Per kg</h4>
        <i id="star" class="fa-sharp fa-solid fa-star"></i>
        <i id="star" class="fa-sharp fa-solid fa-star"></i>
        <i id="star" class="fa-sharp fa-solid fa-star"></i>
        <i id="star" class="fa-sharp fa-solid fa-star"></i><br><br>
        <input type="number" class="quantity" name="quantity" min="1" max="50" placeholder="Select Quantity"><br><br>
        <button id="cartbutton"><a href="../html/cart.html">Add to Cart</a></button><br><br>
        <button id="buybutton"><a href="./buynow.html"> Buy Now</a></button><br><br>
      </div>
    </div> -->
    </div>
    <!-- benefits of tomato -->

    <!-- <div class="heading2"> -->
    <!-- <h3>Benifits of Tomato</h3>
      <ul>
        <p>
          <li>Vitamin C. This vitamin is an essential nutrient and antioxidant.
            One medium-sized tomato can provide about 28% of the Reference Daily Intake (RDI).</li>
        </p>
        <p>
          <li>Here are the nutrients in a small (100-gram) raw tomato</li>
        </p>
      </ul>
      <ul>
        <li>Calories: 18</li>
        <li> Water: 95%</li>
        <li> Protein: 0.9 grams</li>
        <li> Carbs: 3.9 grams</li>
        <li> Sugar: 2.6 grams</li>
        <li> Fiber: 1.2 grams</li>
        <li> Fat: 0.2 grams</li>
      </ul> -->
    <!-- </div>   -->

    <!-- variety of tomato  -->
    <!-- <div class="product-list-container">
      <div class="cheerytomato">
        <img src="../assets/image/cherry tomato.jfif" height="200px" width="200px" alt="img">
        <div class="con1">
          <h5>Fresh Organic<br> CheeryTomato</h5>
          <h6>₹20 Per kg</h6>
          <i id="star" class="fa-sharp fa-solid fa-star"></i>
          <i id="star" class="fa-sharp fa-solid fa-star"></i>
          <i id="star" class="fa-sharp fa-solid fa-star"></i>
          <i id="star" class="fa-sharp fa-solid fa-star"></i><br><br>
          <button id="but"><a href="../html/buynow.html">Buy Now</a></button><br><br>
          <button id="but"><a href="../html/cart.html">Add to Cart</a></button>
        </div>
      </div> -->
    <!-- camparitomato -->
    <!-- <div class="camparitomato">
        <img src="../assets/image/campari tomato.jpg" height="200px" width="200px" alt="img">
        <div class="con1">
          <h5>Fresh Organic<br> CheeryTomato</h5>
          <h6>₹25 Per kg</h6>
          <i id="star" class="fa-sharp fa-solid fa-star"></i>
          <i id="star" class="fa-sharp fa-solid fa-star"></i>
          <i id="star" class="fa-sharp fa-solid fa-star"></i>
          <i id="star" class="fa-sharp fa-solid fa-star"></i>
          <i id="star" class="fa-sharp fa-solid fa-star"></i><br><br>
          <button id="but"><a href="../html/buynow.html">Buy Now</a></button><br><br>
          <button id="but"><a href="../html/cart.html">Add to Cart</a></button>
        </div>
      </div> -->

    <!-- romatomato -->
    <!-- <div class="romatomato">
        <img src="../assets/image/roma tomato.jfif" height="200px" width="200px" alt="img">
        <div class="con1">
          <h5>Fresh Organic<br> CheeryTomato</h5>
          <h6>₹25 Per kg</h6>
          <i id="star" class="fa-sharp fa-solid fa-star"></i>
          <i id="star" class="fa-sharp fa-solid fa-star"></i>
          <i id="star" class="fa-sharp fa-solid fa-star"></i>
          <i id="star" class="fa-sharp fa-solid fa-star"></i><br><br>
          <button id="but"><a href="../html/buynow.html">Buy Now</a></button><br><br>
          <button id="but"><a href="../html/cart.html">Add to Cart</a></button>
        </div>
      </div> -->
    <!-- jubileetomato -->
    <!-- <div class="jubileetomato">
        <img src="../assets/image/jubileetomato.png" height="200px" width="200px" alt="img">
        <div class="con1">
          <h5>Fresh Organic<br> CheeryTomato</h5>
          <h6>₹35 Per kg</h6>
          <i id="star" class="fa-sharp fa-solid fa-star"></i>
          <i id="star" class="fa-sharp fa-solid fa-star"></i>
          <i id="star" class="fa-sharp fa-solid fa-star"></i><br><br>
          <button id="but"><a href="../html/buynow.html">Buy Now</a></button><br><br>
          <button id="but"><a href="../html/cart.html">Add to Cart</a></button>
        </div>
      </div> -->
    <!-- </div> -->

  </main>
  <hr>
  <!-- footer -->

  <footer>

    <div class="footer">

      <div class="footer1">

        <div class="footerone">
          <img src="../assets/image/mainlogo.png" width="140px" alt="img">

        </div>

        <div class="footerone">
          <p>Home</p>
        </div>

        <div class="footerone">
          <p>About</p>
        </div>

        <div class="footerone">
          <p>Contact</p>
        </div>

        <div class="footerone">
          <p>Pricing</p>
        </div>

      </div>

      <!-- footer two -->

      <div class="footer2">

        <div class="footertwo">

          <i class="fa-solid fa-location-dot"></i>

          <p>Dubai 123 South Street</p>

        </div>

        <div class="footertwo">

          <i class="fa-solid fa-phone"></i>
          <p>+1234567890</p>
        </div>

        <div class="footertwo">
          <i class="fa-solid fa-envelope"></i>
          <p>Randy@90gmail.com</p>
        </div>

      </div>

      <div class="footerthird">
        <h3 class="h31">About Us</h3>
        <p>
          We supply organic fruits<br>
          and vegetables at a fair <br> price to everyone.
        </p>
        <i class="fa-brands fa-facebook"></i>
        <i class="fa-brands fa-whatsapp"></i>
        <i class="fa-brands fa-instagram"></i>
        <i class="fa-brands fa-twitter"></i>
        <p></p>
      </div>

    </div>
    <div class="foot">

    </div>

  </footer>

  <script>
    const product_details = [
      //0
      {
        "product_image": {
          "source": "../assets/image/tomato.jpg",
          "alt": "image of tomato veggie"
        },
        "product_name": "FreshorganicTomato",

        // "price": 25,
        "rating": 4
      },
      //1
      {
        "product_image": {
          "source": "../assets/image/beetroot.jpg",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicBeetroot",
        "price": 30,
        "rating": 4
      },
      //2
      {
        "product_image": {
          "source": "../assets/image/potato.jpg",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicPotato",

        "price": 40,

        "rating": 4
      },

      {
        "product_image": {
          "source": "../assets/image/kohlrabi.jfif",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicKohlrabi",

        "price": 60,

        "rating": 4

      },
      {
        "product_image": {
          "source": "../assets/image/brinjal.jfif",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicBrinjal",

        "price": 40,

        "rating": 4

      },
      {
        "product_image": {
          "source": "../assets/image/bittergourd.jfif",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicBittergourd",

        "price": 50,

        "rating": 4

      },
      {
        "product_image": {
          "source": "../assets/image/broadbeans.jfif",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicBroadbeans",

        "price": 45,

        "rating": 4

      },
      {
        "product_image": {
          "source": "../assets/image/bottle.jpg",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicBottlegourd",

        "price": 25,

        "rating": 4

      },
      {
        "product_image": {
          "source": "../assets/image/beans.jfif",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicBeans",

        "price": 40,

        "rating": 4

      },
      {
        "product_image": {
          "source": "../assets/image/cabbage.png",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicCabbage",

        "price": 80,

        "rating": 4

      },
      {
        "product_image": {
          "source": "../assets/image/brocoli.jpg",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicBrocholi",

        "price": 30,

        "rating": 4

      },
      {
        "product_image": {
          "source": "../assets/image/carrot.jpg",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicCarrot",

        "price": 50,

        "rating": 4

      },
      {
        "product_image": {
          "source": "../assets/image/raddish.jpg",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicRaddish",

        "price": 40,

        "rating": 4

      },
      {
        "product_image": {
          "source": "../assets/image/pumpkin.jfif",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicPumpkin",

        "price": 150,

        "rating": 5.0

      },
      {
        "product_image": {
          "source": "../assets/image/ladysfinger.jpg",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicLadysfinger",

        "price": 150,

        "rating": 5.0

      },
      {
        "product_image": {
          "source": "../assets/image/chayote1.jpg",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicChayote",

        "price": 150,

        "rating": 5.0

      },
      {
        "product_image": {
          "source": "../assets/image/onion.jpg",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicOnion",

        "price": 150,

        "rating": 4

      },

      {
        "product_image": {
          "source": "../assets/image/garlic.jfif",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicGarlic",

        "price": 150,

        "rating": 5.0

      },
      {
        "product_image": {
          "source": "../assets/image/ginger.jfif",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicGinger",

        "price": 150,

        "rating": 5.0

      },
      {
        "product_image": {
          "source": "../assets/image/greenchilli (2).jfif",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicGreenchilli",

        "price": 150,

        "rating": 5.0

      },
      {
        "product_image": {
          "source": "../assets/image/cf.jpg",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicCauliflower",

        "price": 150,

        "rating": 4

      },
      {
        "product_image": {
          "source": "../assets/image/spinach.jfif",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicSpinach",

        "price": 150,

        "rating": 5.0

      },
      {
        "product_image": {
          "source": "../assets/image/spinach.jfif",
          "alt": "image of tomato veggie"
        },

        "product_name": "FreshorganicCorrianderleaf",

        "price": 150,

        "rating": 5.0

      }

    ]

    const url = window.location.search;  //?name=FreshOrganicTomato
    console.log(url)
    const urls = new URLSearchParams(url)
    console.log(urls)//"name":"FreshOrganicTomato"
    const name = urls.get("name")
    console.log(name)//"FreshOrganicTomato"

    let result;

    const product_info = JSON.parse(localStorage.getItem("create_product"))

    product_info.find((e) => { //arr=[{0},{1},{2}] ; e={0};e={1}

      if (e.titlename == name) {
        result = e
        console.log(e);

      }
    })

    // function product_create() {

    //div creation//
    const box = document.createElement("div");
    box.setAttribute("class", "box");

    const image1 = document.createElement("img");
    image1.setAttribute("class", "offimg")
    image1.setAttribute("src", "../assets/image/offer.png")
    box.append(image1)

    //image//

    const image = document.createElement("img");
    image.setAttribute("class", "tomato")
    image.setAttribute("src", result.image);

    //heading div//
    const heading1_div = document.createElement("div");
    heading1_div.setAttribute("class", "heading1")
    box.append(image)
    box.append(heading1_div)

    //product name//
    const heading2 = document.createElement("h2");
    heading2.setAttribute("id", "name_of_product")
    heading2.innerText = result.titlename
    heading1_div.append(heading2)

    //gram
    const heading_gram=document.createElement("h3");
    heading_gram.setAttribute("id","gram")
    heading_gram.setAttribute("class","gramquantity")
    heading_gram.innerText="Quantity:"+"  "+"200"+"g"
    heading1_div.append(heading_gram)

    //price//
    const heading3 = document.createElement("h4");
    heading3.setAttribute("id", "quantity_of_product")
    heading3.innerText ="Price:"+ ` ₹` + `${result.price}`
    heading1_div.append(heading3)

    const decrement = document.createElement("button");
    decrement.setAttribute("class", "btn1 btn-decrement");
    decrement.setAttribute("id", "decrement")
    decrement.innerText = "-"
    heading1_div.append(decrement)

    const adding = document.createElement("input");
    adding.setAttribute("class", "btn-input")
    adding.setAttribute("data-keyword",result["price"])
    adding.setAttribute("id", "quantity")
    adding.setAttribute("type", "text")
    adding.setAttribute("value", "1")
    heading1_div.append(adding)

    const increment = document.createElement("button")
    increment.setAttribute("id", "increment")
    increment.setAttribute("class", "btn1 btn-increment")
    increment.innerText = "+"
    heading1_div.append(increment)



    //star//
    // let star = "";
    // for (let j = 0; j < result.ratings; j++) {
    //   star += "⭐";
    // }
    // heading1_div.append(star);

    ratings_div = document.createElement("div");
    ratings_div.setAttribute("class", "product-ratings");
    heading1_div.append(ratings_div);

    button_div = document.createElement("div");
    button_div.setAttribute("class", "btn");
    heading1_div.append(button_div)


    let description = document.createElement("p");
    description.setAttribute("class", "description");
    description.innerText = `Vegetables are an essential part of a healthy and balanced diet, and
    offer numerous benefits for our overall health and well-being.Some of the benefits of
    vegetables include:`
    heading1_div.append(description)

    let description_1 = document.createElement("p");
    description_1.setAttribute("class", "description");
    description_1.innerText = ` Nutrient-rich: Vegetables are packed with essential vitamins, minerals, and nutrients that are
    necessary for the proper functioning of our bodies. They are particularly high in vitamins A, C,
    and K, as well as potassium, fiber, and antioxidants.`
    heading1_div.append(description_1)

    let description_2 = document.createElement("p");
    description_2.setAttribute("class", "description");
    description_2.innerText = `   Low in calories: Most vegetables are low in calories and high in fiber, which makes them an
    excellent choice for weight management. They can help you feel full for longer periods of time,
    without adding a lot of calories to your diet.`
    heading1_div.append(description_2)




    // add to cart//

    add_to_cart = document.createElement("button");
    add_to_cart.setAttribute("id", "cartbutton")

    const anchor = document.createElement("a");
    anchor.setAttribute("href", "#")
    anchor.setAttribute("id", "add-to-cart")
    anchor.innerText = "Add to Cart";
    add_to_cart.append(anchor)
    heading1_div.append(add_to_cart);

    // //buynow//
    buy_now = document.createElement("button");
    buy_now.setAttribute("id", "buybutton")

    const anchor1 = document.createElement("a");
    anchor1.setAttribute("href","#");
    anchor1.innerText = "Buy Now";
    buy_now.append(anchor1);
    heading1_div.append(buy_now)
    document.querySelector(".mainbox").append(box)

    //cart function

    const btn_cart = document.getElementById("cartbutton")
    btn_cart.addEventListener("click", el => {

      const user = JSON.parse(localStorage.getItem("active_user"))
      const addCart = JSON.parse(localStorage.getItem("cart")) ?? []

      let check;

      addCart.find(e => {

        if (e.titlename == result.titlename && e.email == user.email) {
          return check = 1
        }

        return check = 0;

      })

      if (check == 1) {
        alert("Your product already added to cart")
      }
      else {
        const item = {}

        item.image = result.image
        item.price = result.price
        item.titlename = result.titlename
        item.email = user.email

        addCart.push(item)
        localStorage.setItem("cart", JSON.stringify(addCart))
        window.location.reload();
        // alert("Your product added to cart")

      }
    })

   


    let increment1 = document.getElementById("increment")
    let pricelist = document.getElementById("quantity_of_product");
    let gramquantity=document.querySelector("gramquantity")
    console.log(increment1)
    let decrement1 = document.getElementById("decrement");


    let maxbtn = document.getElementById("increment")
    let minbtn = document.getElementById("decrement")
    let input = document.querySelector("input")
    let price = document.getElementById("quantity_of_product")
    let gram = document.getElementById("gram")
    let id = input.dataset.keyword



    maxbtn.addEventListener("click",function () {
      

        let qty = parseFloat(input.value);
        qty = qty + 1
        input.value = qty
        let gram_value = 250 * input.value

        
        price.innerText = `Price : ₹${id * input.value}`
        if(gram_value >= 250){
          gram.innerText = ` Quantity: ${gram_value}g`
        }
        if(gram_value >= 1000){
          gram.innerText = `Quantity: ${gram_value/1000}kg`
        }


    })
     //this event for decrease quantity value
        minbtn.addEventListener("click",function () {
            if (input.value !== "1") {
         let qty = parseFloat(input.value);
         qty = qty - 1
         input.value = qty
         let gram_value = 250 * input.value

         price.innerText = `Price : ₹${id * input.value}`

         if(gram_value >= 250){
          gram.innerText = ` Quantity: ${gram_value}g`
        }
        if(gram_value >= 1000){
          gram.innerText = `Quantity: ${gram_value/1000}kg`
        }
            }
            
            
        })

        //local storage

        // const product_item=JSON.parse(localStorage.getItem("product_details"))??[];
        // const buynow_button=document.getElementById("buybutton")
        // buynow_button.addEventListener("click",(e)=>{
        //   e.preventDefault();
        //   storedetails();
        // })

        // function storedetails(){
        //   const productname=document.getElementById("name_of_product").value;
        //   const quantity=document.getElementById("gram").value;
        //   const price=document.getElementById("quantity_of_product").value;



        //   product_item.push({
        //     "name_of_product":productname,
        //     "gram":quantity,
        //     "quantity_of_product":price
        //   })
        //   localStorage.setItem("product_details",JSON.stringify(product_item));
        
        // }
        
    // local storage
    const buynowbutton=document.getElementById("buybutton")


    buynowbutton.addEventListener("click", (e) => {
      e.preventDefault();
      // const rechange = product_quantity



      
    const product_item = JSON.parse(localStorage.getItem("product_details")) ?? [];
    const incrementBtn = document.querySelector(".btn-increment")
    const product_name = document.querySelector("#name_of_product").innerText;
    const product_quantity = document.getElementById("gram").innerText;
    const product_price = document.getElementById("quantity_of_product").innerText;
    
      product_item.push({
        "name_of_product": product_name,
        "quantity_of_product": product_quantity,
        "price": product_price
      })
      // product_item.push(incrementedObj)
      localStorage.setItem("product_details", JSON.stringify(product_item))
      window.location.href="../html/buynow.html?name=" + result.product_id;
    })


     // cartCount
     const cart_sample = JSON.parse(localStorage.getItem("cart"));
    const user = JSON.parse(localStorage.getItem("active_user"));


    const cartCount = [];
    cart_sample.forEach((e) => {
      if (e.email == user.email) {
        cartCount.push(e);

      }
    });

    const co = cartCount.length


    console.log(co)
    const counting = document.getElementById("cartcount");
    counting.innerHTML = cartCount.length;



  </script>

</body>

</html>